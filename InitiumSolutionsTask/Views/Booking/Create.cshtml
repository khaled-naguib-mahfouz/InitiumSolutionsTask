@model InitiumSolutionsTask.ViewModel.BookingViewModel

@{
    ViewData["Title"] = "Create Booking";
}

<h1>Create Booking</h1>

<form asp-action="Create" method="post">
    @Html.AntiForgeryToken()

    <div class="form-group">
        @Html.LabelFor(model => model.CustomerName)
        @Html.TextBoxFor(model => model.CustomerName, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.CustomerName)
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.NationalId)
        @Html.TextBoxFor(model => model.NationalId, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.NationalId)
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.PhoneNumber)
        @Html.TextBoxFor(model => model.PhoneNumber, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.PhoneNumber)
    </div>

    <div class="form-group">
        @Html.DropDownListFor(
                 model => model.BranchId,
                 new SelectList(Model.Branches, "BranchId", "BranchName"),
                 "Select a branch",
                 new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.CheckInDate)
        @Html.TextBoxFor(model => model.CheckInDate, "{0:yyyy-MM-dd}", new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.CheckInDate)
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.CheckOutDate)
        @Html.TextBoxFor(model => model.CheckOutDate, "{0:yyyy-MM-dd}", new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.CheckOutDate)
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.NumberOfRooms)
        @Html.TextBoxFor(model => model.NumberOfRooms, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.NumberOfRooms)
    </div>
    <div id="room-bookings">
        <h3>Room Details</h3>
        @for (int i = 0; i < Model.RoomBookings.Count; i++)
        {
            <div class="form-group">
                @Html.LabelFor(model => model.RoomBookings[i].RoomTypeId, "Room Type")
                @Html.DropDownListFor(model => model.RoomBookings[i].RoomTypeId, Model.RoomBookings[i].RoomTypes, "Select Room Type", new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.RoomBookings[i].RoomTypeId)
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.RoomBookings[i].NumberOfAdults)
                @Html.TextBoxFor(model => model.RoomBookings[i].NumberOfAdults, new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.RoomBookings[i].NumberOfAdults)
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.RoomBookings[i].NumberOfChildren)
                @Html.TextBoxFor(model => model.RoomBookings[i].NumberOfChildren, new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.RoomBookings[i].NumberOfChildren)
            </div>
        }
    </div>

    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Create" class="btn btn-primary" />
        </div>
    </div>
</form>